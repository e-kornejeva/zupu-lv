(window.webpackWcBlocksJsonp=window.webpackWcBlocksJsonp||[]).push([[2],{100:function(t,e,n){var a=n(54);t.exports=function(t){if(Array.isArray(t))return a(t)}},101:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},102:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},141:function(t,e){},171:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var a=function(t,e){var n=[];return Object.keys(t).forEach((function(a){if(void 0!==e[a])switch(t[a].type){case"boolean":n[a]="false"!==e[a]&&!1!==e[a];break;case"number":n[a]=parseInt(e[a],10);break;case"array":case"object":n[a]=JSON.parse(e[a]);break;default:n[a]=e[a]}else n[a]=t[a].default})),n}},259:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return o}));var a=window.Event||null,r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"==typeof a){var r=new a(t,{bubbles:e,cancelable:n});document.body.dispatchEvent(r)}else{var c=document.createEvent("Event");c.initEvent(t,e,n),document.body.dispatchEvent(c)}},c=function(){r("wc_fragment_refresh",!0,!0)},o=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof jQuery)return function(){};var c=function(){r(e,n,a)};return jQuery(document).on(t,c),function(){return jQuery(document).off(t,c)}}},260:function(t,e,n){"use strict";var a=n(51),r=React.createElement(a.a,{xmlns:"http://www.w3.org/2000/SVG",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}));e.a=r},265:function(t,e,n){"use strict";var a=n(11),r=n.n(a),c=n(171);e.a=function(t){return function(e){return function(n){var a=Object(c.a)(t,n);return React.createElement(e,r()({},n,a))}}}},273:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));var a=n(10),r=n.n(a),c=n(0),o=n(13),i=n(81),u=n(14),s=n(16),l=n(80),d=function(t,e){var n=t.find((function(t){return t.id===e}));return n?n.quantity:0},m=function(t){var e=Object(o.useDispatch)(u.CART_STORE_KEY).addItemToCart,n=Object(i.a)(),a=n.cartItems,m=n.cartIsLoading,p=Object(l.a)(),b=p.addErrorNotice,f=p.removeNotice,v=Object(c.useState)(!1),h=r()(v,2),g=h[0],y=h[1],E=Object(c.useRef)(d(a,t));return Object(c.useEffect)((function(){var e=d(a,t);e!==E.current&&(E.current=e)}),[a,t]),{cartQuantity:Number.isFinite(E.current)?E.current:0,addingToCart:g,cartIsLoading:m,addToCart:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;y(!0),e(t,n).then((function(t){!0===t&&f("add-to-cart")})).catch((function(t){b(Object(s.decodeEntities)(t.message),{context:"wc/all-products",id:"add-to-cart",isDismissible:!0})})).finally((function(){y(!1)}))}}}},279:function(t,e){},280:function(t,e){},289:function(t,e,n){"use strict";n.r(e);var a=n(26),r=n(265),c=n(15),o=n.n(c),i=(n(4),n(5)),u=n.n(i),s=n(10),l=n.n(s),d=n(0),m=n(273),p=n(259),b=Object(d.createContext)({product:{},productId:0,variationId:0,variationData:{},cartItemData:{},quantity:1,minQuantity:1,maxQuantity:99,quantityInCart:0,setQuantity:function(t){},setVariationId:function(t){},setVariationData:function(t){},setCartItemData:function(t){},showFormElements:!1,formInitialized:!1,formDisabled:!0,formSubmitting:!1,onChange:function(){},onSubmit:function(){},onSuccess:function(){},onFail:function(){}}),f=function(){return Object(d.useContext)(b)},v=function(t){var e=t.children,n=t.product,a=t.showFormElements,r=n.id||0,c=Object(d.useState)(0),o=l()(c,2),i=o[0],u=o[1],s=Object(d.useState)({}),f=l()(s,2),v=f[0],g=f[1],y=Object(d.useState)({}),E=l()(y,2),O=E[0],j=E[1],R=Object(d.useState)(1),w=l()(R,2),_=w[0],C=w[1],k=Object(m.a)(r),S=k.addToCart,I=k.addingToCart,N=k.cartQuantity,D=k.cartIsLoading;!function(t){var e=Object(d.useRef)(!0);Object(d.useEffect)((function(){e.current?e.current=!1:Object(p.b)()}),[t])}(N);var x=!D&&r>0,A=I||!x||!h(n),T=Object(d.useCallback)((function(){S(_)}),[S,_]),Q=Object(d.useCallback)((function(){}),[]),P=Object(d.useCallback)((function(){}),[]),F=Object(d.useCallback)((function(){}),[]),L={product:n,productId:r,variationId:i,variationData:v,cartItemData:O,quantity:_,minQuantity:1,maxQuantity:n.quantity_limit||99,quantityInCart:N,setQuantity:C,setVariationId:u,setVariationData:g,setCartItemData:j,showFormElements:a,formInitialized:x,formDisabled:A,formSubmitting:I,onChange:Q,onSubmit:T,onSuccess:P,onFail:F};return React.createElement(b.Provider,{value:L},e)},h=function(t){var e=t.is_purchasable;return void 0!==e&&e},g=n(67),y=n(7),E=(n(279),n(1)),O=n(73),j=n(123),R=n(260),w=function(t){var e=t.className,n=t.href,a=t.text;return React.createElement(O.a,{className:e,href:n,rel:"nofollow"},a)},_=function(t){var e=t.className,n=t.quantityInCart,a=t.loading,r=t.disabled,c=t.onClick,o=Object(d.useState)(!1),i=l()(o,2),u=i[0],s=i[1];return React.createElement(O.a,{className:e,disabled:r,showSpinner:a,onClick:function(){c(),s(!0)}},n>0?Object(E.sprintf)(Object(E._n)("%d in cart","%d in cart",n,"woo-gutenberg-products-block"),n):Object(E.__)("Add to cart","woo-gutenberg-products-block"),u&&React.createElement(j.a,{srcElement:R.a,alt:Object(E.__)("Done","woo-gutenberg-products-block")}))},C=function(){var t=f(),e=t.showFormElements,n=t.product,a=t.quantityInCart,r=t.formDisabled,c=t.formSubmitting,o=t.onSubmit,i=n.is_purchasable,u=void 0===i||i,s=n.has_options,l=n.add_to_cart,d=void 0===l?{url:"",text:""}:l;return!e&&s||!u?React.createElement(w,{className:"wc-block-components-product-add-to-cart-button",href:d.url,text:d.text||Object(E.__)("View Product","woo-gutenberg-products-block")}):React.createElement(_,{className:"wc-block-components-product-add-to-cart-button",quantityInCart:a,disabled:r,loading:c,onClick:o})},k=function(t){var e=t.disabled,n=t.min,a=t.max,r=t.value,c=t.onChange;return React.createElement("input",{className:"wc-block-components-product-add-to-cart-quantity",type:"number",value:r,min:n,max:a,hidden:1===a,disabled:e,onChange:function(t){c(t.target.value)}})},S=function(t){var e=t.reason,n=void 0===e?Object(E.__)("Sorry, this product cannot be purchased.","woo-gutenberg-products-block"):e;return React.createElement("div",{className:"wc-block-components-product-add-to-cart-unavailable"},n)},I=function(){var t=f(),e=t.product,n=t.quantity,a=t.minQuantity,r=t.maxQuantity,c=t.setQuantity,o=t.formDisabled;return e.id&&!e.is_purchasable?React.createElement(S,null):e.id&&!e.is_in_stock?React.createElement(S,{reason:Object(E.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):React.createElement(React.Fragment,null,React.createElement(k,{value:n,min:a,max:r,disabled:o,onChange:c}),React.createElement(C,null))},N=(n(280),n(6)),D=n.n(N),x=n(72),A=n.n(x),T=n(16),Q=n(179),P={value:"",label:Object(E.__)("Select an option","woo-gutenberg-products-block")},F=function(t){var e=t.attributeName,n=t.options,a=void 0===n?[]:n,r=t.selected,c=void 0===r?"":r,o=t.onChange,i=void 0===o?function(){}:o;return React.createElement(Q.SelectControl,{className:"wc-block-components-product-add-to-cart-attribute-picker__select",label:Object(T.decodeEntities)(e),value:c||"",options:[P].concat(A()(a)),onChange:i})},L=function(t){var e=t.selectedAttributes,n=t.variationAttributes,a=t.attributeNames;return Object.keys(n).filter((function(t){return a.every((function(a){var r=e[a]||"",c=n[t][a];return""===r||(null===c||c===r)}))}))};function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){D()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B=function(t){var e=t.attributes,n=t.variationAttributes,a=Object(d.useState)(0),r=l()(a,2),c=r[0],o=r[1],i=Object(d.useState)([]),u=l()(i,2),s=u[0],m=u[1],p=Object.keys(e),b=Object.values(s).filter(Boolean).length>0,f=Object.values(s).filter((function(t){return""!==t})).length===p.length,v=Object(d.useMemo)((function(){var t=[];return p.forEach((function(a){var r=e[a],c=p.filter((function(t){return t!==a})),o=b?L({selectedAttributes:s,variationAttributes:n,attributeNames:c}):null,i=null!==o?o.map((function(t){return n[t][a]})):null;t[a]=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object.values(t).map((function(t){var n=t.name,a=t.slug;return null===e||e.includes(null)||e.includes(a)?{value:a,label:n}:null})).filter(Boolean)}(r.terms,i)})),t}),[e,n,p,s,b]);return Object(d.useEffect)((function(){if(f){var t=L({selectedAttributes:s,variationAttributes:n,attributeNames:p});o(t[0]||0)}else o(0)}),[s,n,p,f]),React.createElement("div",{className:"wc-block-components-product-add-to-cart-attribute-picker"},p.map((function(t){return React.createElement(F,{key:t,attributeName:t,options:v[t],selected:s[t],onChange:function(e){m(V(V({},s),{},D()({},t,e)))}})})),React.createElement("p",null,"Matched variation ID: ",c))},W=function(t){var e=t.product,n=e.attributes,a=void 0===n?{}:n,r=e.variations,c=void 0===r?[]:r,o=function(t){return t?Object(y.keyBy)(Object.values(t).filter((function(t){return t.has_variations})),"name"):[]}(a),i=function(t){if(!t)return{};var e={};return t.forEach((function(t){var n=t.id,a=t.attributes;e[n]=a.reduce((function(t,e){var n=e.name,a=e.value;return t[n]=a,t}),[])})),e}(c);return 0===Object.keys(o).length||0===i.length?null:React.createElement(B,{attributes:o,variationAttributes:i})},z=function(){var t=f(),e=t.product,n=t.quantity,a=t.minQuantity,r=t.maxQuantity,c=t.setQuantity,o=t.formDisabled;return e.id&&!e.is_purchasable?React.createElement(S,null):e.id&&!e.is_in_stock?React.createElement(S,{reason:Object(E.__)("This product is currently out of stock and cannot be purchased.","woo-gutenberg-products-block")}):React.createElement(React.Fragment,null,React.createElement(W,{product:e}),React.createElement(k,{value:n,min:a,max:r,disabled:o,onChange:c}),React.createElement(C,null))},M=function(){return React.createElement(C,null)},J=function(){return React.createElement(Q.Placeholder,{className:"wc-block-components-product-add-to-cart-group-list"},"This is a placeholder for the grouped products form element.")},K=function(){return React.createElement(J,null)},Y=function(t){var e=t.productType;return"variable"===e?React.createElement(z,null):"grouped"===e?React.createElement(K,null):"external"===e?React.createElement(M,null):"simple"===e||"variation"===e?React.createElement(I,null):null},G=function(t){var e=t.className,n=t.showFormElements,a=o()(t,["className","showFormElements"]),r=Object(g.useProductDataContext)(),c=a.product||r.product||{},i=u()(e,"wc-block-components-product-add-to-cart",{"wc-block-components-product-add-to-cart--placeholder":Object(y.isEmpty)(c)});return React.createElement(v,{product:c,showFormElements:n},React.createElement("div",{className:i},React.createElement(React.Fragment,null,n?React.createElement(Y,{productType:c.type||"simple"}):React.createElement(C,null))))},H={showFormElements:{type:"boolean",default:!1}};e.default=Object(a.compose)(Object(r.a)(H))(G)},72:function(t,e,n){var a=n(100),r=n(101),c=n(53),o=n(102);t.exports=function(t){return a(t)||r(t)||c(t)||o()}},73:function(t,e,n){"use strict";var a=n(11),r=n.n(a),c=n(15),o=n.n(c),i=n(75),u=(n(4),n(5)),s=n.n(u);n(141);e.a=function(t){var e=t.className,n=t.showSpinner,a=void 0!==n&&n,c=t.children,u=o()(t,["className","showSpinner","children"]),l=s()("wc-block-components-button",e,{"wc-block-components-button--loading":a});return React.createElement(i.a,r()({className:l},u),a&&React.createElement("span",{className:"wc-block-components-button__spinner","aria-hidden":"true"}),React.createElement("span",{className:"wc-block-components-button__text"},c))}},81:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n(14),r=n(13),c=n(133),o=n(16),i=n(7),u={cartCoupons:[],cartItems:[],cartItemsCount:0,cartItemsWeight:0,cartNeedsPayment:!0,cartNeedsShipping:!0,cartItemErrors:[],cartTotals:{},cartIsLoading:!0,cartErrors:[],shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},shippingRates:[],shippingRatesLoading:!1,hasShippingAddress:!1,receiveCart:function(){}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldSelect:!0},e=Object(c.a)(),n=e.isEditor,s=e.previewData,l=(null==s?void 0:s.previewCart)||{},d=t.shouldSelect,m=Object(r.useSelect)((function(t,e){var r=e.dispatch;if(!d)return u;if(n)return{cartCoupons:l.coupons,cartItems:l.items,cartItemsCount:l.items_count,cartItemsWeight:l.items_weight,cartNeedsPayment:l.needs_payment,cartNeedsShipping:l.needs_shipping,cartItemErrors:[],cartTotals:l.totals,cartIsLoading:!1,cartErrors:[],shippingAddress:{first_name:"",last_name:"",company:"",address_1:"",address_2:"",city:"",state:"",postcode:"",country:""},shippingRates:l.shipping_rates,shippingRatesLoading:!1,hasShippingAddress:!1,receiveCart:"function"==typeof(null==l?void 0:l.receiveCart)?l.receiveCart:function(){}};var c=t(a.CART_STORE_KEY),s=c.getCartData(),m=c.getCartErrors(),p=c.getCartTotals(),b=!c.hasFinishedResolution("getCartData"),f=c.areShippingRatesLoading(),v=r(a.CART_STORE_KEY).receiveCart,h=Object(i.mapValues)(s.shippingAddress,(function(t){return Object(o.decodeEntities)(t)}));return{cartCoupons:s.coupons,cartItems:s.items||[],cartItemsCount:s.itemsCount,cartItemsWeight:s.itemsWeight,cartNeedsPayment:s.needsPayment,cartNeedsShipping:s.needsShipping,cartItemErrors:s.errors||[],cartTotals:p,cartIsLoading:b,cartErrors:m,shippingAddress:h,shippingRates:s.shippingRates||[],shippingRatesLoading:f,hasShippingAddress:!!h.country,receiveCart:v}}),[d]);return m}}}]);